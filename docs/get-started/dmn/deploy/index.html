<!doctype html><html class=no-js><head><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src='https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);})(window,document,'script','dataLayer','GTM-N39WSFRC');</script><meta charset=utf-8><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge,chrome=1"><meta name=viewport content="width=device-width"><meta name=description content="documentation of EximeeBPMS"><meta name=keywords content="eximeebpms,camunda,open source,free,Apache License,Apache 2.0,workflow,BPMN,BPMN 2.0,camunda.org,bpm,BPMS,engine,platform,process,automation,community,documentation"><meta name=author content="EximeeBPMS Community"><title>Evaluate, Deploy and Test the decision table</title><meta name=generator content="Hugo 0.54.0"><link rel="shortcut icon" href=/get-started/img/favicon.ico type=image/x-icon><link rel=stylesheet href=/get-started/css/docs.f29fe01fbca5f7fc5ef82ddd5b8e5762c1664a85660ca7ca7bd4b313929a5345.css integrity="sha256-8p/gH7yl9/xe&#43;C3dW45XYsFmSoVmDKfKe9SzE5KaU0U="></head><body><noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-N39WSFRC" height=0 width=0 style=display:none;visibility:hidden></iframe></noscript><nav class="navbar navbar-fixed-top"><div class=navbar-container><div class=navbar-header><a href=/get-started/><img src=/get-started/img/eximeeBPMSLogo.png style="height:20px;width:auto;padding:0 5px 7px 0">
<span class=brand-name></span><span class=site-name></span></a></div><ul class=header-menu><li class=active><a href=/get-started>Get Started</a></li><li><a href=/manual/latest>Manual</a></li><li><a href=/security>Security</a></li></ul><button class=site-menu-toggle>
<span></span><span></span><span></span></button><div class=search-field style=display:none><input type=search class=search-input placeholder=Searchâ€¦></div><ul class=external-menu><li class=external><a href=https://eximeebpms.org/>eximeebpms.org</a></li></ul></div></nav><div class=search-results><ul class=results-list></ul><footer><button class="btn btn-default page previous">
<span class="glyphicon glyphicon-chevron-left"></span></button>
<button class="search-close btn btn-default">
<span class="glyphicon glyphicon-remove"></span></button>
<button class="btn btn-default page next">
<span class="glyphicon glyphicon-chevron-right"></span></button></footer></div><div class=search-underlay></div><nav class=site-menu><div class=version></div><ul class=site-menu-items><li><a href=/get-started/quick-start/>Quick Start (Java / JS)</a><ul><li><a href=/get-started/quick-start/install/>Download and Installation</a></li><li><a href=/get-started/quick-start/service-task/>Executable Process</a></li><li><a href=/get-started/quick-start/deploy/>Deploy the Process</a></li><li><a href=/get-started/quick-start/user-task/>Involve Humans</a></li><li><a href=/get-started/quick-start/gateway/>Make It Dynamic</a></li><li><a href=/get-started/quick-start/decision-automation/>Decision Automation</a></li></ul></li><li><a href=/get-started/spring-boot/>Spring Boot</a><ul><li><a href=/get-started/spring-boot/project-setup/>Project Setup</a></li><li><a href=/get-started/spring-boot/configuration/>Configuration</a></li><li><a href=/get-started/spring-boot/model/>Model a Process</a></li></ul></li><li><a href=/get-started/dmn/>DMN</a><ul><li><a href=/get-started/dmn/install/>Download and Installation</a></li><li><a href=/get-started/dmn/project-setup/>Project Setup</a></li><li><a href=/get-started/dmn/model/>Create a Decision Table</a></li><li><a href=/get-started/dmn/deploy/>Evaluate and Deploy the Decision Table</a></li><li><a href=/get-started/dmn/drg/>Decision Requirements Graph</a></li></ul></li><li><a href=/get-started/apache-maven/>Maven Coordinates</a></li></ul><div class=meta><h4 class=header><span class="toggle glyphicon glyphicon-chevron-up"></span>Options</h4><div class=content><label for=version-select>Version:</label>
<select id=version-select data-basepath=/get-started base-url=/get-started/></select></div></div></nav><div class=page-wrapper><div class=page-content><div class=container-fluid><div class="col-xs-12 content-header"><div class=edit-on-github><a target=_blank href=https://github.com/EximeeBPMS/eximeebpms-docs/tree/master/get-started/content/dmn/deploy.md><i>Edit on Github</i> <span class=cam-docs-github></span></a></div><h1 class=page-title>Evaluate, Deploy and Test the decision table</h1></div><div class="col-xs-12 content-text"><p>In this step, we use Java Code to evaluate the decision table. Then we deploy the web application to Apache Tomcat and verify the result in Cockpit.</p><h1 id=evaluate-the-decision-table>Evaluate the Decision Table</h1><p>To directly evaluate the decision table after deployment, add the following method to your Application class:</p><pre><code class=language-java>package org.eximeebpms.bpm.getstarted.dmn;

@ProcessApplication(&quot;Dinner App DMN&quot;)
public class DinnerApplication extends ServletProcessApplication {

  protected final static Logger LOGGER = Logger.getLogger(DinnerApplication.class.getName());

  @PostDeploy
  public void evaluateDecisionTable(ProcessEngine processEngine) {

    DecisionService decisionService = processEngine.getDecisionService();

    VariableMap variables = Variables.createVariables()
      .putValue(&quot;season&quot;, &quot;Spring&quot;)
      .putValue(&quot;guestCount&quot;, 10);

    DmnDecisionTableResult dishDecisionResult = decisionService.evaluateDecisionTableByKey(&quot;dish&quot;, variables);
    String desiredDish = dishDecisionResult.getSingleEntry();

    LOGGER.log(Level.INFO, &quot;\n\nDesired dish: {0}\n\n&quot;, desiredDish);
  }

}
</code></pre><div class="panel-group gs-download-step-panel" id=gitStep-4><div class="panel panel-success"><div class="panel-heading clearfix"><div class=pull-left><h4 class=panel-title style=margin:0;line-height:41px>Catch up: Get the Sources of Step-4.</h4></div><div class=pull-right><a class="btn btn-success gs-download-step-btn" href=https://github.com/EximeeBPMS/eximeebpms-get-started-dmn/archive/Step-4.zip><span class="glyphicon glyphicon-download-alt"></span>Source Code Step-4</a></div></div></div></div><h1 id=build-the-web-application-with-maven>Build the Web Application with Maven</h1><p>Select the <code>pom.xml</code> in the Package Explorer, perform a right-click and select <code>Run As / Maven Install</code>. This will generate a WAR file named <code>dinner-dmn-0.1.0-SNAPSHOT.war</code> in the <code>target/</code> folder of your Maven project.</p><div class="note bg-info docs-info"><h3>Hint</h3><p>If the <code>dinner-dmn-0.1.0-SNAPSHOT.war</code> file is not visible after having performed the Maven build, you need to refresh the project (F5) in eclipse.</p></div><h1 id=deploy-to-apache-tomcat>Deploy to Apache Tomcat</h1><p>In order to deploy the process application, copy-paste the <code>dinner-dmn-0.1.0-SNAPSHOT.war</code> from your Maven project to the <code>$EXIMEEBPMS_HOME/server/apache-tomcat/webapps</code> folder.</p><p>Check the log file of the Apache Tomcat server. If you see the following log message, the deployment was successful:</p><pre class=console>
INFO org.eximeebpms.commons.logging.BaseLogger.logInfo
ENGINE-07015 Detected @ProcessApplication class 'org.eximeebpms.bpm.getstarted.dish.DishApplication'
INFO org.eximeebpms.commons.logging.BaseLogger.logInfo
ENGINE-08024 Found processes.xml file at ../webapps/dinner-dmn-0.1.0-SNAPSHOT/WEB-INF/classes/META-INF/processes.xml
INFO org.eximeebpms.commons.logging.BaseLogger.logInfo
ENGINE-08023 Deployment summary for process archive 'dinner-dmn':

        dinnerDecisions.dmn

INFO org.eximeebpms.bpm.getstarted.dmn.DinnerApplication.evaluateDecisionTable 

Desired dish: Stew

INFO org.eximeebpms.commons.logging.BaseLogger.logInfo
ENGINE-08050 Process application Dinner App DMN successfully deployed
</pre><h1 id=verify-the-deployment-with-cockpit>Verify the Deployment with Cockpit</h1><p>Now, use Cockpit to check if the decision table is successfully deployed. Go to <a href=http://localhost:8080/eximeebpms/app/cockpit>http://localhost:8080/eximeebpms/app/cockpit</a>. Log in with <em>demo / demo</em>. Go to &ldquo;Decisions&rdquo; section. Your decision table <em>Dish</em> should be listed as deployed decision definition.</p><figure class=image><span><img src=../img/cockpit-dish-dmn.png></span></figure><h1 id=verify-the-evaluation-with-cockpit>Verify the Evaluation with Cockpit</h1><p>Click on the decision <em>Dish</em>. This opens a dialog where you see when the decision table was evaluated.</p><figure class=image><span><img src=../img/cockpit-decision-overview-dish-dmn.png></span></figure><p>If you click on the id, you can see the historic data of the evaluation. The matched rules are highlighted and the input and output values are listed in the table below.</p><figure class=image><span><img src=../img/cockpit-decision-history-dish-dmn.png></span></figure><p>Verify that the 5th rule was matched and the output value for the desired dish is &ldquo;Stew&rdquo;.</p><h1 id=next-steps>Next Steps</h1><p>Congratulations, you have now successfully set up a project with your first DMN decision table.</p><p>Next,</p><ul><li>see how you can evaluate the decision using the <a href=/rest/1.0/#tag/Decision-Definition/operation/evaluateDecisionByKey>REST API</a>,</li><li>learn more about DMN by reading the <a href=/reference/dmn/>DMN Reference</a>,</li><li>learn more about the <a href=/user-guide/process-engine/decisions/>Decision API exposed by EximeeBPMS Process Engine</a>,</li><li>check how you can invoke the decision from a <a href=/reference/bpmn20/tasks/business-rule-task/>BPMN Business Rule Task</a>,</li><li>Bonus Step: <a href=../drg>Decision Requirements Graph</a></li></ul></div></div></div><footer class=page-footer><div class=row><div class=col-xs-12><p class=pull-right><a href=# target=_self>Back to top</a></p><p><a href=http://eximeebpms.org>eximeebpms.org</a> and <a href=http://docs.eximeebpms.org>docs.eximeebpms.org</a> are part of EximeeBPMS project â€” <a href=https://eximeebpms.org/document/eximee-bpms-privacy-policy//>Privacy Statement</a> â€“ <a hre=https://consdata.com/en/about-us/contact>Consdata S.A.</a><br>The EximeeBPMS documentation is based on <a href=https://docs.camunda.org/>Camunda 7 Docs</a> from Camunda. Some redesign & naming adoptation was made.</p><p><a rel=license href=http://creativecommons.org/licenses/by-sa/3.0/><img alt="Creative Commons License" style=border-width:0 src=https://i.creativecommons.org/l/by-sa/3.0/80x15.png></a> The content on this site is licensed under a <a rel=license href=http://creativecommons.org/licenses/by-sa/3.0/>Creative Commons Attribution-ShareAlike 3.0 Unported License</a>.</p></div></div></footer></div><script type=text/javascript src=/get-started/js/docs.cbff8263fbd14dde61207b9e69cf59a449ee0cdaf49d1c9edbf5b24858818fdc.js integrity="sha256-y/&#43;CY/vRTd5hIHueac9ZpEnuDNr0nRye2/WySFiBj9w="></script><script type=text/javascript src=/get-started/js/copy.0d263bdcc7c86b4b507b9feeae5e6cfe13cd1714517d71ad3879ff1718d30360.js integrity="sha256-DSY73MfIa0tQe5/url5s/hPNFxRRfXGtOHn/FxjTA2A="></script></body></html>